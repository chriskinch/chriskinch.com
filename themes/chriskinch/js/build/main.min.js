!function(e,n,t){var i=window.matchMedia;"undefined"!=typeof module&&module.exports?module.exports=t(i):"function"==typeof define&&define.amd?define("enquire",[],function(){return n[e]=t(i)}):n[e]=t(i)}("enquire",this,function(e){"use strict";function n(e,n){var t,i=0,o=e.length;for(i;o>i&&(t=n(e[i],i),t!==!1);i++);}function t(e){return"[object Array]"===Object.prototype.toString.apply(e)}function i(e){return"function"==typeof e}function o(e){this.options=e,!e.deferSetup&&this.setup()}function s(n,t){this.query=n,this.isUnconditional=t,this.handlers=[],this.mql=e(n);var i=this;this.listener=function(e){i.mql=e,i.assess()},this.mql.addListener(this.listener)}function r(){if(!e)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!e("only all").matches}return o.prototype={setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},s.prototype={addHandler:function(e){var n=new o(e);this.handlers.push(n),this.matches()&&n.on()},removeHandler:function(e){var t=this.handlers;n(t,function(n,i){return n.equals(e)?(n.destroy(),!t.splice(i,1)):void 0})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){n(this.handlers,function(e){e.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";n(this.handlers,function(n){n[e]()})}},r.prototype={register:function(e,o,r){var a=this.queries,c=r&&this.browserIsIncapable;return a[e]||(a[e]=new s(e,c)),i(o)&&(o={match:o}),t(o)||(o=[o]),n(o,function(n){i(n)&&(n={match:n}),a[e].addHandler(n)}),this},unregister:function(e,n){var t=this.queries[e];return t&&(n?t.removeHandler(n):(t.clear(),delete this.queries[e])),this}},new r}),define("async",[],function(){function e(e){var n,t;n=document.createElement("script"),n.type="text/javascript",n.async=!0,n.src=e,t=document.getElementsByTagName("script")[0],t.parentNode.insertBefore(n,t)}function n(e,n){var t=/!(.+)/,o=e.replace(t,""),s=t.test(e)?e.replace(/.+!/,""):i;return o+=o.indexOf("?")<0?"?":"&",o+s+"="+n}function t(){return o+=1,"__async_req_"+o+"__"}var i="callback",o=0;return{load:function(i,o,s,r){if(r.isBuild)s(null);else{var a=t();window[a]=s,e(n(i,a))}}}}),require.config({paths:{async:"/sites/chriskinch.com/themes/chriskinch/js/plugins/async"}}),define("googlemap",["enquire","async!https://maps.googleapis.com/maps/api/js?v=3.14&key=AIzaSyBI5cYJFHCsdpNt3VVE5gqJDir94zt_qcw&libraries=places&sensor=false"],function(){var e,n=Drupal.settings.breakpoints;return enquire.register(n.narrow,{match:function(){function n(n,t){if(t==google.maps.places.PlacesServiceStatus.OK){var i=new google.maps.Marker({position:n.geometry.location,map:e}),o='<div class="map-marker-info"><h4 class="title">'+n.name+'</h4><p class="map-marker-meta">'+n.vicinity+"</p><p>Current workplace and second home of Chris Kinch. Resident since August 2008. Kind of a big deal at the local pub.</p></div>";s.setContent(o),s.open(e,i),google.maps.event.addListener(i,"click",function(){s.open(e,this)})}}var t=new google.maps.LatLng(51.521243,-.13977);e=new google.maps.Map(document.getElementById("block-block-1"),{center:t,zoom:16,minZoom:2,disableDefaultUI:!0,zoomControl:!0,scrollwheel:!1,backgroundColor:"#222"});var i={reference:"CoQBdgAAAAU45juchY7wYQURE_I7hbmGYmsVyj0BpyU2Nf8pEqls5DDgdC7TpeTVXXKsji7NxkPHaJGZ2C_65ScgSGdbQEAEHeiPNwCYErY7uac0chiyZsyaYZ97h_e25RDDDxtTsFg3In4SJgAeJg2Zr4CkGIMR2jd0F5x64BcbSUhcwz1cEhB0qN5OyiWuv5Y8GEjTW19OGhQw4qWDSniHnnSlGl5VRmgruvYtNA"},o=new google.maps.places.PlacesService(e);o.getDetails(i,n);var s=new google.maps.InfoWindow({maxWidth:370,disableAutoPan:!0})}}),e}),!function(e,n){"object"==typeof exports?module.exports=n(require("enquire")):"function"==typeof define&&define.amd?define("savvior",["enquire"],n):e.savvior=n(e.enquire)}(this,function(e){function n(e,n,t){e.dataset?e.dataset[n]=t:e.setAttribute("data-"+n,t)}function t(e,n){var t,i=0,o=e.length;for(i;o>i&&(t=n(e[i],i),t!==!1);i++);}function i(e){return"function"==typeof e}function o(e,n){for(n in e)return!1;return!0}function s(e){this.columns=null,this.element=e,this.status=!1}function r(e,n){this.selector=e,this.options=n,this.queryHandlers=[],this.grid={},this.ready=!1}function a(){if(!e)throw new Error("enquire.js not present, please load it before calling any methods");this.grids={}}return"function"!=typeof window.CustomEvent&&!function(){function e(e,n){n=n||{bubbles:!1,cancelable:!1,detail:void 0};var t=document.createEvent("CustomEvent");return t.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),t}window.CustomEvent=e,e.prototype=window.CustomEvent.prototype}(),function(){for(var e=0,n=["ms","moz","webkit","o"],t=0;t<n.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[n[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[n[t]+"CancelAnimationFrame"]||window[n[t]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=(new Date).getTime(),i=Math.max(0,16-(t-e)),o=window.setTimeout(function(){n(t+i)},i);return e=t+i,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),s.prototype={setup:function(e,t){if(!this.status||"none"!==window.getComputedStyle(this.element).display){var o=this,s=document.createRange(),r=document.createElement("div");s.selectNodeContents(this.element),r.appendChild(s.extractContents()),window.requestAnimationFrame(function(){n(r,"columns",0),o.addColumns(r,e),o.status=!0,i(t)&&t(o)})}},addColumns:function(e,i){for(var o,s=["column","size-1of"+i],r=document.createDocumentFragment(),a=[],c=i;0!==c--;)o="[data-columns] > *:nth-child("+i+"n-"+c+")",a.push(e.querySelectorAll(o));t(a,function(e){var n=document.createElement("div"),i=document.createDocumentFragment();n.className=s.join(" "),t(e,function(e){i.appendChild(e)}),n.appendChild(i),r.appendChild(n)}),this.element.appendChild(r),n(this.element,"columns",i),this.columns=i},removeColumns:function(){var e,i=document.createRange(),o=this.element;i.selectNodeContents(o),e=Array.prototype.filter.call(i.extractContents().childNodes,function(e){return e instanceof window.HTMLElement});var s=e.length,r=e[0].childNodes.length,a=new Array(r*s);t(e,function(e,n){t(e.children,function(e,t){a[t*s+n]=e})});var c=document.createElement("div");return n(c,"columns",0),a.filter(function(e){return!!e}).forEach(function(e){c.appendChild(e)}),c},redraw:function(e,n){var t=this,o={element:t.element,from:t.columns,to:e},s=new CustomEvent("savvior:redraw",{detail:o});window.requestAnimationFrame(function(){t.columns!==e&&t.addColumns(t.removeColumns(),e),window.dispatchEvent(s),i(n)&&n(t)})},restore:function(e){if(!this.status)return i(e)&&e(!1),!1;var n=this,o={element:n.element,from:n.columns};window.requestAnimationFrame(function(){var s=document.createDocumentFragment(),r=n.removeColumns(),a=[],c=new CustomEvent("savvior:restore",{detail:o});t(r.childNodes,function(e){a.push(e)}),a.forEach(function(e){s.appendChild(e)}),n.element.appendChild(s),n.element.removeAttribute("data-columns"),window.dispatchEvent(c),i(e)&&e(n)})}},r.prototype={register:function(){var n=document.querySelector(this.selector);if("none"!==window.getComputedStyle(n).display){this.grid=new s(n,this.selector);for(var i in this.options){var o=this.constructHandler(i,this.options[i]);this.queryHandlers.push(o)}return t(this.queryHandlers,function(n){e.register(n.mq,n.handler)}),this.ready=!0,this}},constructHandler:function(e){var n=this;return{mq:e,handler:{deferSetup:!0,setup:function(){n.gridSetup(e)},match:function(){n.gridMatch(e)},destroy:function(){}}}},gridSetup:function(e){var n=this;n.grid.status||n.grid.setup(n.options[e].columns,function(){var e={element:n.grid?n.grid.element:null,columns:n.grid?n.grid.columns:null},t=new CustomEvent("savvior:setup",{detail:e});window.dispatchEvent(t)})},gridMatch:function(e){var n=this,t={element:n.grid.element,from:n.grid.columns,to:n.options[e].columns,query:e},i=new CustomEvent("savvior:match",{detail:t});n.grid.redraw(n.options[e].columns,function(){window.dispatchEvent(i)})},unregister:function(n){t(this.queryHandlers,function(n){e.unregister(n.mq,n.callbacks)});var o=this;this.grid.restore(function(){o.queryHandlers=[],delete o.grid,o.ready=!1,i(n)&&n(o)})}},a.prototype={init:function(e,n){if(void 0===e||void 0===n)return!1;var t=new CustomEvent("savvior:init"),i=this.grids;return i[e]||(i[e]=new r(e,n),i[e].selector=e),i[e].register(n),window.dispatchEvent(t),this},destroy:function(e,n){var s=new CustomEvent("savvior:destroy"),r=this,a=void 0===e||o(e)?Object.keys(this.grids):e,c=a.length,u=0,d=function(e){delete r.grids[a[u]],++u===c&&(window.dispatchEvent(s),i(n)&&n(e))};t(a,function(e){void 0!==r.grids[e]&&r.grids[e].unregister(d)})},ready:function(e){if(void 0===e){var n=[];for(var t in this.grids)this.grids[t].ready&&n.push(t);return n.length>0?n:!1}return this.grids[e]?this.grids[e].ready:!1}},new a}),define("snapnav",["jquery","enquire","drupal"],function(e,n,t){function i(){function n(){var n=e("body").offset().top-e(window).scrollTop();if(e("body").hasClass("navigation-open")){var t=parseInt(e("body").css("top"),10);e("body").css("position","static"),e("body").scrollTop(Math.abs(t)).css("position","")}else e("body").css({top:n+"px"});e("body").toggleClass("navigation-open")}e(document).on("click","#skip-link a, .navigation-open",function(t){return e(t.target).is(".navigation-open")?(n(),!1):e(t.target).is("#skip-link a")?(n(),!1):void t.stopPropagation()})}var o=t.settings.breakpoints;return n.register(o["default"],{match:function(){i()}}).register(o.skinny_only,{match:function(){i()}}).register(o.narrow_only,{match:function(){i()}}),function(){}}),require.config({paths:{enquire:"/sites/chriskinch.com/themes/chriskinch/js/lib/enquire.js/dist/enquire.min",savvior:"/sites/chriskinch.com/themes/chriskinch/js/lib/savvior/dist/savvior.min",googlemap:"/sites/chriskinch.com/themes/chriskinch/js/src/googlemap",snapnav:"/sites/chriskinch.com/themes/chriskinch/js/src/snapnav"}}),define("jquery",[],function(e){return jQuery}),define("drupal",[],function(){return Drupal}),require(["googlemap"]),require(["savvior","jquery"],function(e,n){n("body").hasClass("front")&&(e.init("#grid",{"screen and (max-width: 620px)":{columns:1},"screen and (min-width: 620px) and (max-width: 960px)":{columns:2},"screen and (min-width: 960px)":{columns:3}}),n("body").addClass("savvior"))}),require(["jquery","drupal"],function(e,n){var t=n.settings.lastfm_widget;e.each(t.services,function(n,i){e(i.block).myLastFM(t.user,t.api_key,n,i.options)})}),require(["snapnav"]),define("main",function(){});